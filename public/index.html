<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>dCrypt</title>
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json">
    <link rel="shortcut icon" href="%PUBLIC_URL%/media/logo32.png">
    <script>
      document.documentElement.className += " loading"
      window.onload = function () {
        document.documentElement.className =
        document.documentElement.className.replace("loading", '')
      };
      function clickTab(id) {
        document.getElementById(id).click()
      }
    </script>

    <!-- Disable cookies https://stackoverflow.com/questions/10306254/is-it-possible-to-block-cookies-from-being-set-using-javascript-or-php -->
    <script>
      if(!document.__defineGetter__) {
        Object.defineProperty(document, 'cookie', {
          get: function(){return ''},
          set: function(){return true},
        });
      } else {
        document.__defineGetter__("cookie", function() { return '';} );
        document.__defineSetter__("cookie", function() {} );
      }
    </script>


    <style type="text/css">
      html.loading body {
        background-color: black;
        text-align: center;
        color: gray;
        opacity: 0;
      }
      html.loading nav {
        opacity: 0;
      }
    </style>
  </head>
  <body>
    <nav class="navbar fixed-top navbar-expand-md navbar-dark bg-dark"> <!--  navbar-light bg-light -->
        <a class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </a>
        <a class="navbar-brand ml-2 ml-md-0 mr-3 " href="#"
           onclick="document.getElementById('home-tab').click()">
           <div class="border-primary circle mr-2"
           style="display: inline-block; width: 32px; height: 32px; transform: rotate(-0deg);position: relative; top: -5px;">
              <i class="fas fa-envelope text-primary"></i>
              <i class="fas fa-key"
                 style="transform: rotate(180deg); color: #5a9200; position: relative; left: -10px; top: 10px;"></i>
            </div>
            <i>d</i>Crypt msg
        </a>
        <div class="collapse navbar-collapse ml-2" id="navbarNav">

          <ul class="navbar-nav nav nav-pills flex-column flex-md-row ml-md-2 mr-auto mt-0 mt-lg-0"
              role="tablist">
            <li class="nav-item" style="display: none">
              <a class="nav-link" id="home-tab" data-toggle="tab"
                 href="#home" role="tab" aria-controls="home" aria-selected="true">
                Home
              </a>
            </li>
            <li class="nav-item mr-md-2 d-none">
              <a class="nav-link" id="about-tab" data-toggle="tab"
                 href="#about" role="tab" aria-controls="about" aria-selected="false">
                 <i class="far fa-question-circle"></i>
                About
              </a>
            </li>
            <li class="nav-item when-authenticated mr-md-2">
              <a class="nav-link" id="tutorial-tab" data-toggle="tab"
                 href="#tutorial" role="tab" aria-controls="tutorial" aria-selected="false">
                 <i class="fas fa-graduation-cap"></i>
                Learn
              </a>
            </li>
            <li class="nav-item when-encrypting mr-md-2 d-none">
              <a class="nav-link" id="encrypt-tab" data-toggle="tab"
                 href="#encrypt" role="tab" aria-controls="encrypt" aria-selected="false">
                 <i class="fas fa-shield-alt"></i>
                 Encrypt
               </a>
            </li>
            <li class="nav-item when-authenticated mr-md-2 order-4 d-none">
              <a class="nav-link" id="decrypt-tab" data-toggle="tab"
                 href="#decrypt" role="tab" aria-controls="decrypt" aria-selected="false">
                 <i class="fas fa-unlock-alt"></i>
                 Decrypt</a>
            </li>
            <li class="nav-item when-authenticated mr-md-2 order-3 d-none">
              <a class="nav-link" id="share-tab" data-toggle="tab"
                 href="#share" role="tab" aria-controls="share" aria-selected="false">
                 <i class="fas fa-envelope"></i>
                 Receive</a>
            </li>
          </ul>

        </div>

        <div class="ml-auto mr-1"></div><!-- spacing when collapsed -->

        <!--
        <ul class="navbar-nav mr-4">
          <li class="nav-item">
            <a class="nav-link"
               data-toggle="modal" data-target="#support-modal">
              <i class="fas fa-thumbs-up"></i>
            </a>
          </li>
        </ul>
      -->

        <div class="" id="auth-root">Sign in</div>
    </nav>

    <div class="navbar" style="opacity: 0">Filler for navbar</div>

    <div class="modal fade" id="support-modal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              <i class="fas fa-thumbs-up mr-3"></i>
              Thank you for the thumbs-up!
            </h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p><strong>All apps in the <i>d</i>Crypt family are free and open-source.</strong> Inital development is funded by
               an award from Blockstack PBC, an American public benefit corporation creating a
               decentralized computing network and app ecosystem designed to protect digital rights.</p>
          <!--  <p>To help us get funding for further development,
               we appreciate if you share about dCrypt in social media, give the app positive reviews, and
              follow us on Product Hunt:
            </p>
              <div class="mt-2 product-hunt justify-content-center text-center justify-self-center mb-0" style="transform: scale(0.8)">
                 <a href="https://www.producthunt.com/posts/dcrypt?utm_source=badge-featured&utm_medium=badge&utm_souce=badge-dcrypt" target="_blank">
                   <img src="https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=171048&theme=dark"
                   alt="dCrypt - Secure encryption made easy (on Product Hunt)" style="width: 250px; height: 54px;" width="250px" height="54px" />
                 </a>
              </div> -->
        </div>
          <!--
          <div class="modal-footer">
            <button type="button" class="btn btn-primary">Save changes</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
          -->
        </div>
      </div>
    </div>


    <main>
      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active"
             id="home" role="tabpanel" aria-labelledby="home-tab">
          <div class="jumbotron mb-0 pt-0">
            <section class="features-icons m-auto">
              <h2 class="col col-12 text-center">Encrypted Messages<br/>
                  made easy.</h2>
              <div class="row">
              <div class="col p-5">
                  <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3"
                       onclick="clickTab('tutorial-tab')">
                    <div class="features-icons-icon d-flex">
                      <i class="fas fa-graduation-cap m-auto text-primary"></i>
                    </div>
                    <h3>Learn</h3>
                    <p class="lead mb-0">Learn how to use secure encryption.</p>
                  </div>
              </div>
              <div class="col p-5 d-none">
                  <div class="features-icons-item mx-auto mb-3 mb-md-0"
                       onclick="clickTab('encrypt-tab')">
                    <div class="features-icons-icon d-flex">
                      <i class="fas fa-shield-alt m-auto text-primary"></i>
                    </div>
                    <h3>Encrypt</h3>
                    <p class="lead mb-0">
                      Encrypt messages with
                      your Public Key.
                    </p>
                  </div>
              </div>
              <div class="col p-5 order-4 d-none">
                  <div class="features-icons-item mx-auto mb-3 mb-md-0"
                       onclick="clickTab('decrypt-tab')">
                    <div class="features-icons-icon d-flex">
                      <i class="fas fa-unlock-alt m-auto text-primary"></i>
                    </div>
                    <h3>Decipher</h3>
                    <p class="lead mb-0">
                      <!-- or decipher -->
                      Decipher messages with
                      your Private Key.
                    </p>
                  </div>
              </div>
              <div class="col p-5 order-3 d-none">
                <div class="features-icons-item mx-auto mb-3 mb-md-0"
                     onclick="clickTab('share-tab')">
                    <div class="features-icons-icon d-flex">
                      <i class="fas fa-envelope m-auto text-primary"></i>
                    </div>
                    <h3>Receive</h3>
                    <p class="lead mb-0">
                      Receive confidential messages securely.
                    </p>
                </div>
              </div>
            </section>

            <div id="signin-root"
                 class="unless-authenticated mx-auto"></div>
            <div id="app-root" class="when-authenticated"></div>
          </div>
        </div>

        <div class="tab-pane fade"
             id="about" role="tabpanel" aria-labelledby="about-tab">
          <div id="about-root">[About]</div>
        </div>

        <div class="tab-pane fade"
             id="tutorial" role="tabpanel" aria-labelledby="tutorial-tab">
          <div id="tutorial-root">[Tutorial]</div>
        </div>

        <div class="tab-pane fade"
             id="encrypt" role="tabpanel" aria-labelledby="encrypt-tab">
          <div id="encrypt-root">[Encrypt]</div>
        </div>

        <div class="tab-pane fade"
             id="decrypt" role="tabpanel" aria-labelledby="decrypt-tab">
          <div id="decrypt-root">[Decrypt]</div>
        </div>

        <div class="tab-pane fade"
             id="share" role="tabpanel" aria-labelledby="share-tab">
          <div id="share-root">[Share]</div>
        </div>
      </div>

    </main>

    <footer class="mt-0 pt-5 pb-5 text-center"> <!-- bg-dark text-white -->
        <div class="container">
          <p class="py-0 px-2">
                      <a style="border:none; font-size: 1.5rem;"
                          data-toggle="tooltip" title="Available as open source for transparency"
                          target="_blank"
                          href="https://github.com/njordhov/dcrypt">
                          <i class="fab fa-github"></i> Free &amp; Open Source
                        </a>
          </p>
          <p class="m-0 mt-2">
            Made with
            &nbsp;<i class="far fa-heart" style="color: salmon"></i>&nbsp;
            in San Francisco</p>
            <!-- <i class="fa blockstack-glyph">&nbsp;</i> -->

          <p class="m-0">
            <a href="mailto:hello@dcrypt.app">hello@dcrypt.app</a></p>
        </div>
          <div class="mt-4">
            <a href="https://www.eff.org/" target="_blank">
              <img src="/media/eff-join2_0.png" alt="Join EFF!" border="0"/>
            </a>
          </div>
        <!-- /.container -->
    </footer>

    <!--
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css"
          rel="stylesheet">
    -->
  </body>
</html>
